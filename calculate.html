<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Solar Savings Calculator — Responsive (Fixed)</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-slate-800 antialiased">

  <!-- NAVBAR -->
  <header class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-20">
        <!-- logo -->
        <a href="index.html" class="flex items-center gap-3">
          <img src="./abc/logo.png" alt="Suntrik logo" class="h-12 w-auto object-contain md:h-14">
          <div class="leading-none">
            <div class="text-lg md:text-2xl font-extrabold text-[#002B5C]">SUNTRIK</div>
            <div class="text-xs md:text-sm text-slate-500">Energy for the Future</div>
          </div>
        </a>

        <!-- desktop links -->
        <nav class="hidden md:flex items-center gap-6 text-sm font-medium">
          <a href="index.html" class="hover:text-[#FF7A00]">Home</a>
          <a href="about.html" class="hover:text-[#FF7A00]">About</a>
          <a href="services.html" class="hover:text-[#FF7A00]">Services</a>
          <a href="projects.html" class="hover:text-[#FF7A00]">Projects</a>
          <a href="contact.html" class="hover:text-[#FF7A00] text-[#FF7A00] font-semibold">Contact</a>
			<a href="calculate.html"  class="ml-4 inline-flex items-center px-4 py-1 rounded-full text-white font-bold bg-gradient-to-r from-sky-500 to-sky-300 hover:brightness-95">Savings Calculator</a>
          <a href="https://wa.me/919876543210" target="_blank" rel="noopener" 
             class="ml-4 inline-flex items-center px-4 py-2 rounded-full text-white font-bold bg-gradient-to-r from-green-500 to-green-300 hover:brightness-95">
            Get Solar
          </a>
        </nav>

        <!-- mobile menu button -->
        <div class="md:hidden">
          <button id="menu-btn" aria-expanded="false" aria-controls="mobile-menu" class="p-2 rounded-md text-2xl">
            <span id="menu-open">☰</span>
            <span id="menu-close" class="hidden">✕</span>
            <span class="sr-only">Open main menu</span>
          </button>
        </div>
      </div>
    </div>

    <!-- mobile menu -->
    <div id="mobile-menu" class="md:hidden hidden border-t bg-white/98">
      <div class="px-4 pt-4 pb-6 space-y-3 text-center">
        <a href="index.html" class="hover:text-[#FF7A00] block">Home</a>
        <a href="about.html" class="hover:text-[#FF7A00] block">About</a>
        <a href="services.html" class="hover:text-[#FF7A00] block">Services</a>
        <a href="projects.html" class="hover:text-[#FF7A00] block">Projects</a>
        <a href="contact.html" class="hover:text-[#FF7A00] block">Contact</a>
		  <a href="calculate.html"  class="ml-4 inline-flex items-center px-4 py-1 rounded-full text-white font-bold bg-gradient-to-r from-sky-500 to-sky-300 hover:brightness-95">Savings Calculator</a>
        <a href="https://wa.me/919876543210" target="_blank" rel="noopener" class="block mt-2 px-6 py-2 rounded-full text-white font-semibold bg-green-500">
          Get Solar
        </a>
      </div>
    </div>
  </header>

 <section class="pt-28 pb-12 bg-gray-50">
  <div class="max-w-6xl mx-auto my-6 px-4 sm:px-6">
    <div class="bg-white rounded-2xl shadow-lg overflow-hidden grid grid-cols-1 md:grid-cols-12">
      <!-- Left image/marketing column (hidden on small screens) -->
      <div class="hidden md:block md:col-span-5 bg-[url('https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=1200&q=60')] bg-cover bg-center p-8">
        <div class="bg-gradient-to-b from-transparent to-white rounded-lg p-6 max-w-sm mt-16">
          <h2 class="text-2xl md:text-3xl font-semibold text-gray-900">Calculate your savings if you set up a solar plant in our Solar Park</h2>
          <p class="mt-3 text-sm text-gray-600">Select your state, business type and electricity bill. We'll estimate system size, costs and savings.</p>
        </div>
      </div>

      <!-- Right interactive column -->
      <div class="col-span-1 md:col-span-7 p-6 md:p-10 relative">
        <!-- Top tabs (responsive) -->
        <div class="flex flex-wrap gap-3 mb-6">
          <button class="tab px-3 py-2 rounded-lg text-sm font-semibold bg-sky-100/60">Address</button>
          <button class="tab px-3 py-2 rounded-lg text-sm font-semibold bg-sky-100/60">Business Type</button>
          <button class="tab px-3 py-2 rounded-lg text-sm font-semibold bg-sky-100/60">Existing Arrangement</button>
          <button class="tab px-3 py-2 rounded-lg text-sm font-semibold bg-sky-600 text-white">Summary</button>
        </div>

        <!-- Multi-step form container -->
        <div id="stepContainer" class="space-y-6">
          <!-- Step 1: State -->
          <div class="step" data-step="1">
            <h3 class="font-semibold mb-3 text-lg">Which State are you from?</h3>
            <select id="state" class="w-full md:w-72 p-3 rounded-xl border border-gray-200 bg-white">
              <option value="">Choose your state</option>
              <option>ANDHRA PRADESH</option>
              <option>CHATTISGARH</option>
              <option>DELHI</option>
              <option>GUJRAT</option>
              <option>KARNATAKA</option>
              <option>MADHYA PRADESH</option>
              <option>MAHARASHTRA</option>
              <option>ORISSA</option>
              <option>PUNJAB</option>
              <option>RAJASTHAN</option>
              <option>TAMIL NADU</option>
              <option>UTTAR PRADESH</option>
              <option>WEST BENGAL</option>
            </select>
          </div>

          <!-- Step 2: Business Type & Bill -->
          <div class="step hidden" data-step="2">
            <h3 class="font-semibold mb-4 text-lg">What type of business are you in?</h3>
            <div class="flex gap-3 mb-4 flex-wrap">
              <label class="businessChoice p-3 rounded-xl border w-32 text-center cursor-pointer">
                <input type="radio" name="business" value="industry" class="hidden"> 
                <div class="font-medium">Industry</div>
              </label>
              <label class="businessChoice p-3 rounded-xl border w-32 text-center cursor-pointer">
                <input type="radio" name="business" value="hotel" class="hidden"> 
                <div class="font-medium">Hotel</div>
              </label>
              <label class="businessChoice p-3 rounded-xl border w-32 text-center cursor-pointer">
                <input type="radio" name="business" value="hospital" class="hidden"> 
                <div class="font-medium">Hospital / Others</div>
              </label>
            </div>
            <h4 class="font-medium">What is your Average Monthly Electricity Bill?</h4>
            <div class="mt-3 flex max-w-sm">
              <input id="monthlyBill" type="number" placeholder="e.g. 150000" class="flex-1 p-3 rounded-l-full border border-gray-200" />
              <span class="inline-block p-3 rounded-r-full border border-gray-200 bg-gray-50">Rs</span>
            </div>
          </div>

          <!-- Step 3: Existing rooftop -->
          <div class="step hidden" data-step="3">
            <h3 class="font-semibold mb-4 text-lg">Do you have existing rooftop Solar system?</h3>
            <div class="flex gap-3">
              <button data-choice="yes" class="existChoice px-6 py-2 rounded-full border">Yes</button>
              <button data-choice="no" class="existChoice px-6 py-2 rounded-full border">No</button>
            </div>

            <div id="existingCapacityRow" class="mt-4 hidden">
              <label class="block mb-2">Existing system capacity (kW)</label>
              <input id="existingCapacity" type="number" class="p-3 border rounded-lg w-44" placeholder="e.g. 1" />
            </div>
          </div>

          <!-- Step 4: Summary -->
          <div class="step hidden" data-step="4">
            <h3 class="font-semibold mb-4 text-lg">Summary</h3>
            <div id="summaryCard" class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="bg-gradient-to-b from-sky-500 to-sky-400 rounded-lg p-6 text-white">
                <div class="text-sm">Total Cost</div>
                <div id="totalCost" class="text-2xl font-bold mt-2">Rs. --</div>

                <div class="mt-4 text-sm">Tax Benefit</div>
                <div id="taxBenefit" class="font-semibold">Rs. --</div>

                <hr class="my-4 border-white/30">
                <div class="text-sm">Net Cost</div>
                <div id="netCost" class="font-semibold">Rs. --</div>

                <div class="mt-4 text-sm">Annual Savings</div>
                <div id="annualSavings" class="font-semibold">Rs. --</div>

                <div class="mt-4 text-sm">Payback Time</div>
                <div id="paybackTime" class="font-semibold">-- Years</div>

                <div class="mt-4 text-sm">Yearly Energy Production</div>
                <div id="yearlyEnergy" class="font-semibold">-- kWh</div>

                <div class="mt-4 text-sm">Annual Co2 Emmission Saved</div>
                <div id="co2Saved" class="font-semibold">-- KG</div>
              </div>

              <div class="bg-white rounded-lg p-6 border">
                <h4 class="font-medium mb-3">Selected options</h4>
                <div id="selectedOptions" class="space-y-2 text-sm text-gray-700"></div>

                <div class="mt-6">
                  <h4 class="font-medium mb-2">Let’s talk further</h4>

                  <form id="contactForm" class="space-y-3 text-sm" novalidate>
                    <input id="fullName" type="text" placeholder="Name*" class="w-full p-2 border rounded" required>

                    <input id="companyName" type="text" placeholder="Company Name*" class="w-full p-2 border rounded" required>

                    <div class="flex gap-2 flex-col sm:flex-row">
                      <input id="email" type="email" placeholder="Email Address*" class="w-full sm:w-1/2 p-2 border rounded" required>
                      <input id="phone" type="text" placeholder="Phone Number*" class="w-full sm:w-1/2 p-2 border rounded" required>
                    </div>

                    <textarea id="message" rows="3" placeholder="Message (optional)" class="w-full p-2 border rounded text-sm"></textarea>

                    <div class="flex items-center gap-2">
                      <input id="acceptTerms" type="checkbox" />
                      <div class="text-xs">I accept terms and privacy policy</div>
                    </div>

                    <!-- status message shown after submit -->
                    <div id="formStatus" class="mt-2 text-sm"></div>

                    <!-- submit button: note type="submit" so the JS submit handler runs -->
                    <button id="submitBtn" type="submit" class="mt-2 px-5 py-2 rounded-full bg-sky-800 text-white w-full">Get A Quote →</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Controls -->
        <div class="flex flex-col sm:flex-row justify-between items-center gap-3 mt-6">
          <button id="backBtn" class="px-6 py-3 rounded-full bg-gray-300 w-full sm:w-auto">← Back</button>
          <button id="nextBtn" class="px-6 py-3 rounded-full bg-sky-900 text-white w-full sm:w-auto">Next →</button>
        </div>

      </div>
    </div>
  </div>
</section>

    <!-- FOOTER -->
<footer class="bg-[#002B5C] text-white py-6 px-6">
  <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center">
    <div class="text-sm">&copy; 2025 Suntrik. All Rights Reserved.</div>
    <div class="text-sm mt-2 md:mt-0">
      Designed by 
      <a href="https://www.linkedin.com/in/veerjoshi" 
         target="_blank" 
         rel="noopener noreferrer" 
         class="font-semibold underline bold text-white">
         Dhramveer Joshi
      </a>
    </div>
  </div>
</footer>

  <script>
    // ----- PARAMETERS YOU CAN TWEAK -----
    const COST_PER_KW = 37400; // Rs per kW (example)
    const TAX_BENEFIT_RATE = 0.17; // 17% tax benefit
    const PER_KW_ANNUAL_SAVING = 7910; // Rs saved per year per kW (example)
    const ANNUAL_PRODUCTION_PER_KW = 1600; // kWh/year per kW
    const CO2_PER_KWH = 0.94; // kg CO2 per kWh
    // ------------------------------------

    let currentStep = 1;
    const totalSteps = 3; // fixed: 3 steps (1..3)

    const steps = document.querySelectorAll('.step');
    const nextBtn = document.getElementById('nextBtn');
    const backBtn = document.getElementById('backBtn');

    function showStep(n){
      steps.forEach(s=>s.classList.add('hidden'));
      const el = document.querySelector(`.step[data-step='${n}']`);
      if(el) el.classList.remove('hidden');

      // tab underline management (if tabs exist)
      document.querySelectorAll('.tab').forEach((t,i)=>{
        t.classList.toggle('underline', i+1===n);
      });

      backBtn.style.visibility = n===1 ? 'hidden' : 'visible';
	  nextBtn.style.visibility = n===4 ? 'hidden' : 'visible';
      // change next text
      if(n===totalSteps){ nextBtn.textContent = 'Finish'; }
      else { nextBtn.textContent = 'Next →'; }
    }

    showStep(currentStep);

    nextBtn.addEventListener('click', ()=>{
      // validations per step
      if(currentStep===1){
        const st = document.getElementById('state').value;
        if(!st){ alert('Please choose a state'); return; }
      }
      if(currentStep===2){
        const biz = document.querySelector('input[name="business"]:checked');
        const bill = document.getElementById('monthlyBill').value;
        if(!biz || !bill){ alert('Please select business type and enter monthly bill'); return; }
      }

      if(currentStep < totalSteps){
        currentStep++; showStep(currentStep);
      } else {
        // when on final step and user clicks Finish, compute summary
        computeAndShowSummary();
      }
    });

    backBtn.addEventListener('click', ()=>{
      if(currentStep>1){ currentStep--; showStep(currentStep); }
    });

    // business choice UI
    document.querySelectorAll('.businessChoice').forEach(el=>{
      el.addEventListener('click', ()=>{
        document.querySelectorAll('.businessChoice').forEach(x=>x.classList.remove('ring-2','ring-sky-500','bg-sky-50'));
        el.classList.add('ring-2','ring-sky-500','bg-sky-50');
        const input = el.querySelector('input'); if(input) input.checked = true;
      });
    });

    // existing rooftop choices
    document.querySelectorAll('.existChoice').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.existChoice').forEach(b=>b.classList.remove('bg-sky-900','text-white'));
        btn.classList.add('bg-sky-900','text-white');
        const choice = btn.getAttribute('data-choice');
        if(choice==='yes') document.getElementById('existingCapacityRow').classList.remove('hidden');
        else document.getElementById('existingCapacityRow').classList.add('hidden');
      });
    });

    // mobile menu toggle
    document.getElementById('menu-btn').addEventListener('click', ()=>{
      const menu = document.getElementById('mobile-menu');
      const open = document.getElementById('menu-open');
      const close = document.getElementById('menu-close');
      const expanded = menu.classList.contains('hidden');
      menu.classList.toggle('hidden');
      open.classList.toggle('hidden');
      close.classList.toggle('hidden');
    });

    function numberWithCommas(x){
      return new Intl.NumberFormat('en-IN').format(x);
    }

    function computeAndShowSummary(){
      const state = document.getElementById('state').value;
      const bizEl = document.querySelector('input[name="business"]:checked');
      const biz = bizEl ? bizEl.value : 'industry';
      const monthly = Number(document.getElementById('monthlyBill').value) || 0;
      const existingCapacity = Number(document.getElementById('existingCapacity').value) || 0;

      const annualBill = monthly*12;

      // estimate annual savings as a fraction of bill (business dependent)
      let savingsFraction = 0.56; // default for industry-like
      if(biz==='hotel') savingsFraction = 0.50;
      if(biz==='hospital') savingsFraction = 0.48;

      const annualSavings = Math.round(annualBill * savingsFraction);

      // estimate required new capacity (kW) based on per-kW annual savings
      const requiredCapacity = Math.round(annualSavings / PER_KW_ANNUAL_SAVING);

      // final capacity = requiredCapacity - existingCapacity (but not less than 1)
      const finalCapacity = Math.max(1, requiredCapacity - existingCapacity);

      const totalCost = Math.round(finalCapacity * COST_PER_KW);
      const taxBenefit = Math.round(totalCost * TAX_BENEFIT_RATE);
      const netCost = totalCost - taxBenefit;

      const yearlyEnergy = Math.round(finalCapacity * ANNUAL_PRODUCTION_PER_KW);
      const co2Saved = Math.round(yearlyEnergy * CO2_PER_KWH);

      const paybackYears = (annualSavings>0) ? (netCost / annualSavings) : 0;

      // populate UI
      document.getElementById('totalCost').textContent = 'Rs. ' + numberWithCommas(totalCost);
      document.getElementById('taxBenefit').textContent = 'Rs. ' + numberWithCommas(taxBenefit);
      document.getElementById('netCost').textContent = 'Rs. ' + numberWithCommas(netCost);
      document.getElementById('annualSavings').textContent = 'Rs. ' + numberWithCommas(annualSavings);
      document.getElementById('paybackTime').textContent = (Math.round(paybackYears*10)/10) + ' Years';
      document.getElementById('yearlyEnergy').textContent = numberWithCommas(yearlyEnergy) + ' kWh';
      document.getElementById('co2Saved').textContent = numberWithCommas(co2Saved) + ' KG';

      // selected options summary
      const sel = document.getElementById('selectedOptions');
      sel.innerHTML = '';
      const items = [
        {t: finalCapacity + ' KW'},
        {t: state},
        {t: existingCapacity>0? existingCapacity + ' KW existing' : 'At Solar park'},
        {t: biz.charAt(0).toUpperCase()+biz.slice(1)}
      ];
      items.forEach(it=>{
        const div = document.createElement('div'); div.className='py-2'; div.textContent = it.t; sel.appendChild(div);
      });

      // go to step 4 view
      currentStep = 4; showStep(4);
    }

    // contact form submit handler (demo only)
    document.getElementById('contactForm').addEventListener('submit', function(e){
      e.preventDefault();
      const status = document.getElementById('formStatus');
      const name = document.getElementById('fullName').value.trim();
      if(!name){ status.textContent = 'Please enter your name.'; status.className='text-red-500'; return; }
      status.textContent = 'Thank you — we will contact you shortly.'; status.className='text-green-600';
      // here you would normally send the form to your backend
    });

  </script>

  <style>
    .tab{ padding:8px 12px; color:#1f2937; font-weight:600 }
    .tab.underline{ text-decoration:underline; text-underline-offset:8px }
    .businessChoice:hover{ transform:translateY(-3px); transition:all .15s }
  </style>
</body>
</html>
